<!DOCTYPE html>
<html>
    <head>
		
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="Page-Enter" content="RevealTrans(duration=3,Transitionv=11)">
 <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
 <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/2.3.0/weui.min.css"/>
 <script type="text/javascript" src="../js/loadPic.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<style type="text/css">
	body {
		background: url(../img/icon/emoji2.png)  no-repeat;
	}
	.weui-form{
		background: url(../img/icon/emoji2.png)  no-repeat;
		}
	#title{
		position: relative;
		right: -30%;
		top:5rem;
		font-family:"century gothic", sans-serif;
		font-size: 2rem;
		font-style: italic;
	}
	#subtitle{
		position: relative;
		right: -46%;
		top:5rem;
		font-family:"century gothic", sans-serif;
		font-size: 1.1rem;
		font-style: italic;
	}
	.upload_pic {
		display: block;
		width: 100%;
		height: 40px;
		position: absolute;
		left: 0;
		top: 0;
		opacity: 0;
		border-radius: 5px;
	}
	#gallery{
		position: absolute;
		top: 13.25rem;
		
	}
	.weui-uploader__file{
		length=20%
	}
	#upload{
		float: left;
		position: relative;
		right: -24%;
		top: 5.575rem;
		color: black;
		background: rgba(57, 143, 255, 0.45);  
	}
	#return{
			 color: black;
			  background: rgba(57, 143, 255, 0.45);  
			  position:absolute;
			  bottom: 3.25rem;
			  left:25%;
	}
</style>
</head>

<body>
	<div id="app" >
		 <div class="weui-form">
			 <p id="title">管理你的表情库</p>
			  <p id="subtitle">表情自动同步服务器</p>
		</div>
		
		<div id="gallery" class="weui-uploader__bd">
		    <ul   class="weui-uploader__files" id="uploaderFiles">
				<li  style="width: 5rem;height: 5rem;"  class="weui-uploader__input-box">
				    <input @click="upload" id="img" class="weui-uploader__input" type="file" accept="image/*" multiple/>
				</li>
		        <li class="weui-uploader__file" style="width: 5rem;height: 5rem; background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
		        <li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
		        <li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
		        <li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
				<li class="weui-uploader__file" style="width: 5rem;height: 5rem;background-image: url(../img/icon/emoji2.png);background-size:100%;"></li>
		    </ul>
		</div>
		<a id="return" @click="returnSetting" class="weui-btn weui-btn_primary" href="javascript:">返回</a>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
			<script type="text/javascript">
			var app = new Vue({
				el: "#app",
				data: {
					},
				methods:{
					returnSetting:function(){
						window.location.href='./me.html';
					},
					upload:function(){
						console.log("1")
						document.getElementById('img').onchange = function(){
						var img = event.target.files[0];
						// 判断是否图片
						if(!img){
						return ;
						}
						// 判断图片格式
						var reader = new FileReader();
						reader.readAsDataURL(img);
						reader.onload = function(e){ 
							//  上传图片
							axios.post('http://129.211.62.153:8080/upload/image/'
											+localStorage.getItem("uid")+"/"+"2",{data:e.target.result}).then((res)=>{
												console.log("ok!!")
												console.log(res)
											})
							console.log(e)
							console.log(e.target.result)
							var image = new Image();
							image.src = e.target.result;
							// 绑定load事件处理器，加载完成后执行，避免同步问题
						}
						}
					}
					
				}
				})
				</script>
</body>
</html>